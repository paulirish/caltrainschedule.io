function rComplete(e,t){"use strict";Object.prototype.bindFunctions=function(e){var t=this;Object.keys(e).forEach(function(n){t[n]=e[n].bind(t)})},HTMLElement.prototype.classes=function(){return this.className.split(/\s+/)},HTMLElement.prototype.addClass=function(e){var t=this.classes();return-1===t.indexOf(e)&&(t.push(e),this.className=t.join(" ")),this},HTMLElement.prototype.removeClass=function(e){var t=new RegExp(e,"i");return this.className=this.className.replace(t,"").replace(/\s+/," "),this};var n={dropdownZIndex:100,placeholder:"Placeholder",matcher:function(e,t){return new RegExp("^"+e,"i").test(t)}};t&&Object.keys(t).forEach(function(e){n[e]=t[e]});var i=document.createElement("div");i.className="complete-wrapper",i.style.position="relative",i.style.border="0",i.style.margin="0",i.style.outline="0",i.style.padding="0";var s=document.createElement("input");s.className="complete-input",s.type="text",s.value="",s.spellcheck=!1,s.style.position="absolute",s.style.top=0,s.style.left=0,s.style.width="100%",s.style.border="0",s.style.margin="0",s.style.outline="0",s.style.padding="0",s.style.verticalAlign="top",s.style.backgroundColor="transparent",s.Options=[],s.Matches=[];var o=s.cloneNode();o.className="complete-hint",o.disabled=!0,o.value=n.placeholder,o.realValue="",o.style.boxShadow="none",o.style.borderColor="transparent";var l=document.createElement("div");l.className="complete-dropdown",l.style.zIndex=n.dropdownZIndex,l.style.display="none",l.style.position="absolute",l.style.cursor="default",l.Index=0;var a=function(){var e=document.createElement("div");return e.className="complete-dropdown-item",e.bindFunctions({Hover:function(){l.LeaveAllItem(),this.addClass("hovered"),o.Render(this.textContent)},Leave:function(){this.removeClass("hovered")},onmouseover:function(){this.Hover()},onmouseout:function(){this.Leave()},onmousedown:function(){s.Complete(this.textContent),setTimeout(function(){s.focus()},0)}}),e};return l.bindFunctions({Empty:function(){for(;this.firstChild;)this.removeChild(this.firstChild)},CurrentItem:function(){return this.childNodes[this.Index]},Move:function(e){this.CurrentItem().Leave();var t=this.Index+e;t>=0&&t<this.childNodes.length&&(this.Index=t),this.CurrentItem().Hover()},Render:function(e){this.Empty();var t=this;e.forEach(function(e){var n=a();n.innerHTML=e,t.appendChild(n)}),this.childNodes.length<=1&&this.Hide()},LeaveAllItem:function(){for(var e=0;e<this.childNodes.length;e++)this.childNodes[e].Leave()},Show:function(){this.childNodes.length>1&&(this.style.display=null)},Hide:function(){this.style.display="none"}}),o.bindFunctions({Show:function(){this.style.display=null},Hide:function(){""!==this.realValue&&(this.style.display="none")},isShow:function(){return!this.isHide()},isHide:function(){return"none"===this.style.display},Render:function(e){var t=s.value;this.realValue=e||"",this.value=t+this.realValue.substring(t.length)}}),s.bindFunctions({Match:function(){var e=this,t=this.value;this.Matches=[],this.Options.forEach(function(i){n.matcher(t,i)&&e.Matches.push(i)}),l.Render(this.Matches),o.Render(this.Matches[0]),l.childNodes[0]&&l.childNodes[0].Hover()},Complete:function(e){this.value=e,this.Match(),this.Hide()},isCompleted:function(){return this.value===o.value},notCompleted:function(){return!this.isCompleted()},Show:function(){o.Show(),l.Show()},Hide:function(){o.Hide(),l.Hide()},hasVisibleHint:function(){return this.notCompleted()&&o.isShow()},onchange:function(){this.Match(),this.Show()},oninput:function(){this.onchange()},onfocus:function(){this.Match(),this.Show()},onblur:function(){this.Hide()},onkeydown:function(e){var t=(e||window.event).keyCode;switch(t){case 27:this.hasVisibleHint()&&(this.Hide(),this.focus(),e.preventDefault(),e.stopPropagation());break;case 33:case 34:return;case 38:return void l.Move(-1);case 40:return void l.Move(1);case 9:case 13:case 35:case 39:return void(this.hasVisibleHint()&&(this.Complete(o.realValue),e.preventDefault(),e.stopPropagation()))}}}),i.appendChild(o),i.appendChild(s),i.appendChild(l),e.appendChild(i),{wrapper:i,input:s,hint:o,dropdown:l,setOptions:function(e){s.Options=e},getOptions:function(){return s.Options},setText:function(e){s.Complete(e)},getText:function(){return s.value}}}